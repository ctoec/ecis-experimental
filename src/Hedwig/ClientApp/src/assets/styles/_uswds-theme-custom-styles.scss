/*
* * * * * ==============================
* * * * * ==============================
* * * * * ==============================
* * * * * ==============================
========================================
========================================
========================================
----------------------------------------
USWDS THEME CUSTOM STYLES
----------------------------------------
!! Copy this file to your project's
   sass root. Don't edit the version
   in node_modules.
----------------------------------------
Custom project SASS goes here.

i.e.
@include u-padding-right('05');
----------------------------------------
*/

// Arbitrary amount of space to temporarily avoid issue of things going off the page
// TODO: revisit this when we add a footer
.App {
	margin-bottom: 10rem;
}

// *** Header ***

.usa-header--extended {
	.usa-logo {
		@include at-media($theme-navigation-width) {
			margin: units(1.5) 0 units(1);
		}
	}

	.usa-nav {
		@include at-media($theme-navigation-width) {
			border-bottom: units(1px) solid color('base-lighter');
		}
	}
}

.usa-logo__text {
	$logo-size-mobile: 4;
	$logo-size-desktop: 9;

	&::before {
		@include u-square($logo-size-mobile);
		content: '';
		background-image: url('../images/logo.svg');
		background-repeat: no-repeat;
		background-size: 100% auto;
		display: inline-block;
		margin-left: units(-2px);
		margin-right: units(1);
		position: relative;
		top: units(-1px);
		vertical-align: middle;

		@include at-media('desktop') {
			@include u-square($logo-size-desktop);
			margin-right: units(2);
		}
	}
}

.attention-needed {
	color: color('secondary');
}

.oec-logged-in-user {
	display: block;

	width: 100%;
	padding-top: 1.5rem;

	font-weight: 700;

	@include at-media($theme-navigation-width) {
		float: right;
		height: units(5);
		text-align: right;
		padding-top: 0.55rem;
	}

	a {
		color: color('base-dark');
		text-decoration: none;

		&:hover {
			color: color('primary');
			text-decoration: underline;
		}
	}
}

.usa-nav__secondary-links a {
	font-size: size('ui', 1);
}

// *** Prose ***

h1 {
	margin: 0;
}

.usa-intro {
	margin-top: 0;
}

// *** Alignment ***
.flex-first-baseline {
	align-items: first baseline;
}

.flex-space-between {
	justify-content: space-between;
}

// *** Grid ***
.grid-container > .usa-alert:first-child {
	margin-top: 1.67em;
}

.grid-container {
	margin-bottom: 2rem;
}

// *** Table ***

.oec-table {
	@extend .usa-table;
	@extend .usa-table--borderless;

	th,
	td {
		border-color: color('base-lighter');
	}
}

.oec-table__cell--tabular-nums {
	@extend .text-tabular;
}

.oec-table__cell--right-align {
	text-align: right;
}

td.oec-table__cell--strong {
	font-weight: 700;
}

.oec-table__cell--red {
	color: color('secondary');
}

.oec-table__cell--gray {
	color: color('base');
}

.oec-table--full-width {
	width: 100%;
}

.oec-sortable .oec-table__column-title {
	text-decoration: none;
	color: inherit;
	font-weight: inherit;
}

.oec-table__sort-controls {
	display: inline-block;
	position: relative;
	margin-left: units(1);

	span::before {
		content: '';
		display: block;
		position: absolute;
		left: 0;
		width: 0;
		height: 0;
		border-width: 0.4em;
		border-style: solid;
		border-color: color('base-light');
		border-left: 0.25em solid transparent;
		border-right: 0.25em solid transparent;
	}

	span.active::before {
		border-color: color('primary');
		border-left-color: transparent;
		border-right-color: transparent;
	}

	.oec-table__sort-controls__asc::before {
		bottom: units(-1px);
		border-bottom: none;
	}

	.oec-table__sort-controls__desc::before {
		bottom: 0.4em;
		border-top: none;
	}
}

// InlineIcon

.oec-inline-icon svg {
	height: 1em;
	width: 1em;
  vertical-align: middle;
	display: inline-block;
	position: relative;
	top: -0.1em;
	left: 0.1em;
	margin-right: 0.25em;
}

.oec-inline-icon--attentionNeeded path {
	fill: color($theme-color-error-dark);
}

.oec-inline-icon--complete path {
	fill: color($theme-color-success-dark);
}

.oec-inline-icon--incomplete path {
	fill: color($theme-color-warning-dark);
}

// Derived from CMS Design System: https://github.com/CMSgov/design-system/blob/master/packages/core/src/components/StepList/StepList.scss

$step-list-number-size: 32px !default;
$step-list-number-size-mobile: 24px !default;
$step-list-number-font-size: size('ui', 8) !default;
$step-list-number-font-size-mobile: size('ui', 3) !default;
$step-list-number-border-size: 2px !default;
$step-list-number-margin: 10px !default;
$step-list-padding-h: 0 !default;
$step-list-padding-left: $step-list-padding-h + $step-list-number-margin + $step-list-number-size;
$step-margin: units(2) !default;
$step-border-width: 1px !default;
$step-button-height: 40px !default;
$current-step-color: color('primary') !default;
$future-step-color: color('base-dark') !default;

.oec-step-list {
	list-style-type: none;
	margin: 0;
	padding: 0 $step-list-padding-h;
	padding-left: $step-list-padding-left;
}

.oec-step-list__step {
	color: $future-step-color;
	counter-increment: step-counter;
	margin-bottom: $step-margin;
	padding-bottom: $step-margin;
	position: relative;

	&::before {
		border: $step-list-number-border-size solid $future-step-color;
		border-radius: 50%;
		box-sizing: border-box;
		color: $future-step-color;
		content: counter(step-counter);
		display: block;
		font-size: $step-list-number-font-size-mobile;
		height: $step-list-number-size-mobile;
		left: -($step-list-number-margin + $step-list-number-size-mobile);
		line-height: $step-list-number-size-mobile - $step-list-number-border-size * 2;
		position: absolute;
		text-align: center;
		top: ($step-button-height - $step-list-number-size-mobile) / 2;
		width: $step-list-number-size-mobile;

		@include at-media('tablet') {
			font-size: $step-list-number-font-size;
			height: $step-list-number-size;
			left: -($step-list-number-margin + $step-list-number-size);
			line-height: $step-list-number-size - $step-list-number-border-size * 2;
			padding-left: 1px;
			top: ($step-button-height - $step-list-number-size) / 2;
			width: $step-list-number-size;
		}
	}

	&::after {
		border-bottom: $step-border-width solid color('base-lighter');
		bottom: 0;
		content: '';
		display: block;
		height: 1px;
		left: -$step-list-padding-left;
		position: absolute;
		right: -$step-list-padding-h;
	}

	@include at-media('tablet') {
		display: flex;
		justify-content: space-between;
	}
}

.oec-step-list__step:not(.oec-step-list__step--notStarted) {
	padding-bottom: $step-margin;

	&::before {
		border: 0 none;
		color: color('white');
		line-height: $step-list-number-size-mobile;

		@include at-media('tablet') {
			line-height: $step-list-number-size;
		}
	}
}

.oec-step-list__step--active {
	.oec-step-list__step__title {
		color: $current-step-color;
	}

	&::before {
		background: $current-step-color;
	}

	color: color('ink');
}

.oec-step-list__step:not(.oec-step-list__step--notStarted):not(.oec-step-list__step--active) {
	.oec-step-list__step__title {
		color: color('ink');
	}

	&::before {
		background: color('ink');
	}
}

.oec-step-list__step__content {
	@include at-media('tablet') {
		padding-right: units(2);
	}
}

.oec-step-list__step__title {
	font-size: size('ui', 4);
	line-height: $step-button-height;
	margin: 0;

	@include at-media('tablet') {
		font-size: size('ui', 9);
	}
}

.oec-step-list__step__actions {
	font-size: size('ui', 3);
	margin-left: auto;

	@include at-media('tablet') {
		font-size: size('ui', 5);
		text-align: right;
	}
}

.oec-step-list__step__status-text {
	display: inline-block;
	line-height: $step-button-height - 12px;
	margin-right: units(2);

	@include at-media('tablet') {
		display: block;
		margin-right: 0;
		padding-top: 6px;
		white-space: nowrap;
	}
}

.oec-step-list__step__summary {
	font-size: size('ui', 3);

	p {
		@include u-margin-y('05');
	}
}

.oec-step-list__step__summary {
	font-size: size('ui', 3);

	p {
		@include u-margin-y('05');
	}
}

.oec-enrollment-details-section {
	@include u-padding-bottom(1);
	border-bottom: units('1px') solid color('base-lighter');

	@include at-media('tablet') {
		display: flex;
		justify-content: space-between;
	}
}

.oec-enrollment-details-section__actions {
	@include u-margin-bottom(2);
	@include u-line-height('ui', 3);
	margin-left: auto;

	@include at-media('tablet') {
		@include u-margin-top(3);
		font-size: size('ui', 5);
		text-align: right;
	}

	a:not(.display-none) {
		display: block;
	}
}

.oec-enrollment-details-section__content {
	p {
		@include u-margin-y(1);
	}
}

// *** DatePicker ***
// https://github.com/airbnb/react-dates
.oec-date-input {
	&.oec-date-input--error input{
		@extend .usa-input--error;
	}
	&.oec-date-input--warning input{
		@extend .usa-input--warning;
	}
	&.oec-date-input--success input{
		@extend .usa-input--success;
	}
}

.DateRangePickerInput input,
.SingleDatePickerInput input {
	@extend .usa-input;
}

.DateInput__disabled, .SingleDatePickerInput__disabled, .DateRangePickerInput__disabled {
	background: unset;
	background-color: unset;
}

.DateInput_input__focused {
	border-bottom: unset;
}

.CalendarDay__selected,
.CalendarDay__selected:active,
.CalendarDay__selected:hover {
	background: color('primary-dark');
	border: 1px double color('primary-darker');
}

.CalendarDay__selected_span {
	background: color('primary');
	border: 1px double color('primary-darker');
}

.CalendarDay__hovered_span,
.CalendarDay__hovered_span:hover,
.CalendarDay__selected_span:active,
.CalendarDay__selected_span:hover,
.CalendarDay__hovered_span:active {
	background: color('primary-light');
	border: 1px double color('primary-darker');
	color: #fff;
}

.DayPickerKeyboardShortcuts_show__bottomRight::before {
	border-right: 33px solid color('primary');
}

.DayPickerKeyboardShortcuts_show__bottomRight:hover::before {
	border-right: 33px solid color('primary-darker');
}

// *** Date Input ***
.oec-date-input__input.usa-form-group--error, .oec-date-input__input.usa-form-group--warning {
	margin-top: 0;
}

// *** Select Input ***
.usa-select:disabled {
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
	background-color: #c9c9c9;
	color: white;
	pointer-events: none;
}

.usa-form {
	h2, h3 {
		@include u-margin-top(4);
		margin-bottom: 0;
	}

	.usa-button {
		@include u-margin-top(6);
		@include u-margin-bottom(4);
	}
}

.usa-form-group--warning {
	@extend .usa-form-group--error;
	border-left-color: color($theme-color-warning-dark);
}

// TODO: DO WE WANT THIS?
// .usa-form-group--success {
// 	@extend .usa-form-group--error;
// 	border-left-color: color($theme-color-success-dark);
// }

.usa-warning-message, .usa-success-message {
	@extend .usa-error-message;
	color: color($theme-color-base);
	font-weight: inherit;
}

.usa-input--warning {
	@extend .usa-input--error;
	border-color: color($theme-color-warning-dark);
}

// TODO: DO WE WANT THIS?
// .usa-input--success {
// 	@extend .usa-input--error;
// 	border-color: color($theme-color-success-dark);
// }

.usa-fieldset--error {
	border-left-width: 0.25rem;
	border-left-style: solid;
	border-left-color: color($theme-color-error-dark);

	.usa-form-group--error {
		margin-top: 0;
		margin-left: 0;
		padding-left: 0;
		border-left: none;
	}
}

.usa-fieldset--warning {
	@extend .usa-fieldset--error;
	border-left-color: color($theme-color-warning-dark);

	.usa-form-group--warning {
		margin-top: 0;
		margin-left: 0;
		padding-left: 0;
		border-left: none;
	}
}

.usa-fieldset--success {
	@extend .usa-fieldset--error;
	border-left-color: color($theme-color-success);

	.usa-form-group--success {
		margin-top: 0;
		margin-left: 0;
		padding-left: 0;
		border-left: none;
	}
}

.oec-action-list {
	list-style-type: none;
	padding-left: 0;

	li {
		@include u-margin-y(2);
	}
}


// *** Width fit content ***
.width-fit-content {
	width: fit-content;
}

// *** Legend ****
.oec-legend__symbol {
	display: inline-block;
	position: relative;
	height: 100%;
	vertical-align: initial;
}

// *** Directional link ***
.oec-directional-link {
  padding: units(2) 0 0 0;
	display: block;
	@include u-text('primary');
	@include u-text('bold');
}

.oec-directional-link__arrow {
  height: units(2);
  width: units(2);
	vertical-align: middle;
}

.oec-directional-link__arrow--side-left {
  margin-right: units(1);
}

.oec-directional-link__arrow--side-right {
  margin-left: units(1);
}

// Arrow points right by default

.oec-directional-link__arrow--direction-down {
  -webkit-transform: rotate(90deg);
  transform: rotate(90deg);
}

.oec-directional-link__arrow--direction-left {
  -webkit-transform: rotate(180deg);
  transform: rotate(180deg);
}

.oec-directional-link__arrow--direction-up {
  -webkit-transform: rotate(270deg);
  transform: rotate(270deg);
}

// *** Button ***
// When we use links like buttons we need to style them the same
a.usa-button {
	text-decoration: inherit;
}

.usa-form a.usa-button:visited {
	@extend .usa-button:visited;
}

// Background and text colors-- text used for SVG where fill or stroke attr = currentColor

.text-undefined {
	color: inherit;
}

// blue-50v text and tag bg
.text-blue-50v {
  color: color('blue-50v');
}
.bg-blue-50v {
  background-color: color('blue-50v');
}

// violet-warm-60 text and tag bg
.text-violet-warm-60 {
  color: color('violet-warm-60');
}
.bg-violet-warm-60 {
  background-color: color('violet-warm-60');
}

// gold-20v text and tag bg
.text-gold-20v {
  color: color('gold-20v');
}
.bg-gold-20v {
	background-color: color('gold-20v');
	color: #000;
}

// gold-30v text and tag bg
.text-gold-30v {
  color: color('gold-30v');
}
.bg-gold-30v {
	background-color: color('gold-30v');
	color: #000;
}
